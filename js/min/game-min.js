function Game(t,s,e){this.players=t,this.status="ready",this.selectedSong,this.selectedPlayer,this.winner,this.difficulty="easy",this.songs=s,this.rounds=e,this.currentRound=0,this.finalRound=1,this.reset;var n=document.getElementById("audioDemo");this.startGame=function(){this.playSong()},this.playSong=function(){$("#answer-ok").hide(),$(".turntable-container").css("pointer-events","none"),this.currentRound>this.finalRound?this.winner():(this.selectSong(),n.load(),n.play(),this.addRound(),console.log(this.selectedSong.title),this.status="play",$(".turntable-container").toggleClass("active"))},this.pauseSong=function(){this.status="pause",n.pause(),$(".turntable-container").removeClass("active"),$("#answer img").attr("src",this.players[this.selectedPlayer].avatar),$("#answer button").css("background",this.players[this.selectedPlayer].color),$("#answer-error button").css("background",this.players[this.selectedPlayer].color),$("#answer-error img").attr("src",this.players[this.selectedPlayer].avatar),$("#answer-ok button").css("background",this.players[this.selectedPlayer].color),$("#winner button").css("background",this.players[this.selectedPlayer].color)},this.showAnswerScreen=function(){$("#answer").show()},this.resumeSong=function(){$("#answer-error").hide(),this.status="play",$(".turntable-container").toggleClass("active"),n.play()},this.checkResponse=function(){$(".answer-input").val().toUpperCase()===this.selectedSong.title?($("#answer-ok img").attr("src",this.players[this.selectedPlayer].avatar),$("#answer-ok button").css("background",this.players[this.selectedPlayer].color),$(".response-ok").css("color",this.players[this.selectedPlayer].color),$(".reponse-title").text($(".answer-input").val()),$("#answer").hide(),$("#answer-ok").show(),this.players[this.selectedPlayer].addPoints(50)):($("#answer-ok img").attr("src",this.players[this.selectedPlayer].avatar),$(".reponse-title").text($(".answer-input").val()),$("#answer").hide(),$("#answer-error").show(),$("#answer-ok button").css("background",this.players[this.selectedPlayer].color),this.players[this.selectedPlayer].addPoints(-10))},this.selectSong=function(){this.selectedSong=this.songs[Math.floor(Math.random()*this.songs.length)],$("#sourceSong").attr("src",this.selectedSong.link)},this.addRound=function(){this.currentRound<=this.finalRound&&(this.currentRound+=this.rounds,$(".round-counter").text("ROUND "+this.currentRound))},this.winner=function(){this.pauseSong(),this.sortPlayer(),$("#winner").show()},this.reset=function(){5===this.currentRound&&window.location.reload()},this.sortPlayer=function(){this.players.sort(function(t,s){return t.playerPoints>s.playerPoints?1:t.playerPoints<s.playerPoints?-1:0})}}